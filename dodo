#!/usr/bin/env python3
# -*- coding: utf8 -*-

# pylint: disable=invalid-name                    # [C0103] single letter var names, name too descriptive
from __future__ import annotations

import os
import sys
import time
from decimal import Decimal
from decimal import InvalidOperation

if len(sys.argv) < 2:
    print(sys.argv[0], '[interval_in_seconds]', 'command', file=sys.stderr)
    sys.exit(1)

index = 1
try:
    delay = Decimal(sys.argv[1])
    index = 2
except IndexError:
    assert False
except InvalidOperation:
    delay = Decimal(1)
    sys.exit(1)

while True:
    os.system(' '.join(sys.argv[index:]))
    time.sleep(float(delay))
